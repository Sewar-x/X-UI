<template>
  <div>
    <XTable :options="options" @page-change="pageChange">
      <!--å¤´éƒ¨æ’æ§½-->
      <template #nameHeaderSlot="{ header }">
        <el-tag type="primary"> {{ header.attr.label }}</el-tag>
      </template>
      <!--åˆ—å†…å®¹æ’æ§½-->
      <template #nameSlot="{ row, columns }">
        <el-tag type="primary"> {{ row.name }}</el-tag>
      </template>
      <template #addressSlot="{ row, columns }">
        <el-input v-model="row.address" />
      </template>
      <template #deliverySlot="{ row, columns }">
        <el-select v-model="row.delivery" placeholder="Select">
          <el-option
            v-for="item in deliveryOptions"
            :key="item.value"
            :label="item.label"
            :value="item.value"
          />
        </el-select>
      </template>
      <template #operateSlot="{ row, columns }">
        <el-button type="primary" size="small">æäº¤</el-button>
        <el-button type="danger" size="small">åˆ é™¤</el-button>
      </template>
      <!--è¡¨æ ¼æœ«å°¾æ’æ§½-->
      <template #appendSlot="{ options }">
        <el-progress :text-inside="true" :stroke-width="26" :percentage="50" />
      </template>
      <!--ç©ºçŠ¶æ€æ’æ§½-->
      <template #emptySlot="{ options }">
        <el-empty description="æ²¡æœ‰æ•°æ®äº†" />
      </template>
    </XTable>
  </div>
</template>

<script setup lang="ts">
import { XTable } from "@/xw-ui/element-plus";
const deliveryOptions = [
  {
    value: "Option1",
    label: "Option1",
  },
  {
    value: "Option2",
    label: "Option2",
  },
  {
    value: "Option3",
    label: "Option3",
  },
  {
    value: "Option4",
    label: "Option4",
  },
  {
    value: "Option5",
    label: "Option5",
  },
];
// è¡¨æ ¼æ•°æ®
const tableData = [
  {
    date: "2016-05-02",
    name: "ç‹å°è™",
    address: "ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„",
    delivery: "é€è´§ä¸Šé—¨",
  },
  {
    date: "2016-05-04",
    name: "ç‹å°è™",
    address: "ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1517 å¼„",
    delivery: "è‡ªå–",
  },
  {
    date: "2016-05-01",
    name: "ç‹å°è™",
    address: "ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1519 å¼„",
    delivery: "è‡ªå–",
  },
  {
    date: "2016-05-03",
    name: "ç‹å°è™",
    address: "ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„",
    delivery: "è‡ªå–",
  },
  {
    date: "2016-05-03",
    name: "ç‹å°è™",
    address: "ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„",
    delivery: "è‡ªå–",
  },
  {
    date: "2016-05-03",
    name: "ç‹å°è™",
    address: "ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„",
    delivery: "è‡ªå–",
  },
  {
    date: "2016-05-03",
    name: "ç‹å°è™",
    address: "ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„",
    delivery: "è‡ªå–",
  },
  {
    date: "2016-05-03",
    name: "ç‹å°è™",
    address: "ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„",
    delivery: "è‡ªå–",
  },
  {
    date: "2016-05-03",
    name: "ç‹å°è™",
    address: "ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„",
    delivery: "è‡ªå–",
  },
  {
    date: "2016-05-03",
    name: "ç‹å°è™",
    address: "ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„",
    delivery: "è‡ªå–",
  },
];

//  åˆ†é¡µé…ç½®
const data = {
  currentPage: 1,
  data: tableData,
  pageSize: 20,
  total: 25,
};

// è¡¨æ ¼åˆ—é…ç½®
const tableColumns = [
  {
    attr: {
      prop: "date",
      label: "æ—¥æœŸ",
    },
  },
  {
    attr: {
      prop: "name",
      label: "å§“å",
    },
    headerSlot: "nameHeaderSlot",
    defaultSlot: "nameSlot",
  },
  {
    attr: {
      prop: "address",
      label: "åœ°å€",
    },
    defaultSlot: "addressSlot",
  },
  {
    attr: {
      prop: "delivery",
      label: "é…é€æ–¹å¼",
    },
    defaultSlot: "deliverySlot",
  },
  {
    attr: {
      prop: "",
      label: "æ“ä½œ",
    },
    defaultSlot: "operateSlot",
  },
];

const options = {
  data: data,
  pagination: {
    attr: {
      background: true,
    },
  }, // åˆ†é¡µé…ç½®
  columns: tableColumns,
  appendSlot: "appendSlot",
  emptySlot: "emptySlot",
};

const pageChange = (currentPage: number, pageSize: number) => {
  console.log(`ğŸš€å½“å‰é¡µé¢ï¼š${currentPage}, é¡µé¢å¤§å°ï¼š${pageSize}`);
};
</script>

<style scoped lang="less"></style>
